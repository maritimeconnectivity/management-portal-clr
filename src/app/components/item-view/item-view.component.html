<div class="clr-row">
    <div class="clr-col-lg-12 clr-col-md-8 clr-col-12">
        <div class="card">
            <div class="card-header">
                {{capitalize(itemType)}} details - {{item.mrn}}
            </div>
            <div class="card-block">
                <div class="card-text">
                    <form clrForm>
                        <div class="clr-form-horizontal clr-form-control clr-row"
                            *ngFor="let menu of columnForMenu | keyvalue:sortColumnForMenu">
                            <label class="clr-control-label">{{menu.value.title}}</label>
                            <div class="clr-control-container clr-col-md-10 clr-col-12"
                                ng-reflect-ng-class="clr-col-md-10 clr-col-12">
                                <div class="clr-input-wrapper">
                                    @if (item[menu.key]) {
                                        @if (isTimestampFormat(menu.key)) {
                                            <input clrinput="" type="string" ng-reflect-name="mrn" ng-reflect-required="true"
                                                [value]="convertTimeString(item[menu.key])" id="clr-form-control-1"
                                                class="clr-input ng-untouched ng-pristine ng-invalid ng-star-inserted"
                                                required="" aria-describedby="clr-form-control-1-helper"
                                                [style.width.px]=400>
                                        } @else {
                                            <input clrinput="" type="string" ng-reflect-name="mrn" ng-reflect-required="true"
                                                [value]="item[menu.key]" id="clr-form-control-1"
                                                class="clr-input ng-untouched ng-pristine ng-invalid ng-star-inserted"
                                                required="" aria-describedby="clr-form-control-1-helper"
                                                [style.width.px]=400>
                                        }
                                    } @else {
                                    <input clrinput="" type="string" ng-reflect-name="mrn" ng-reflect-required="true"
                                        [value]="" id="clr-form-control-1"
                                        class="clr-input ng-untouched ng-pristine ng-invalid ng-star-inserted"
                                        required="" aria-describedby="clr-form-control-1-helper"
                                        [style.width.px]=400>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="clr-form-horizontal clr-form-control clr-row">
                            <label class="clr-control-label">Active certificates</label>
                            <div class="clr-col-lg-12 clr-col-md-8 clr-col-12">
                                <app-cert-table context="active" [data]="activeCertificates" (onAdd)="openCertModal()" (onDownload)="downloadCerts($event)" (onRevoke)="revokeCerts($event)" />
                            </div>
                        </div>
                        <div class="clr-form-horizontal clr-form-control clr-row">
                            <label class="clr-control-label">Revoked certificates</label>
                            <div class="clr-col-lg-12 clr-col-md-8 clr-col-12">
                                <app-cert-table context="revoked" [data]="revokedCertificates" />
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-primary" (click)="edit()">Edit</button>
            </div>
        </div>
    </div>
</div>

<clr-modal #certModal class="modal" [(clrModalOpen)]="certModalOpened" clrModalSize="lg" [clrModalStaticBackdrop]="false">
    <div class="modal-title">
            <button aria-label="Close" class="close" type="button">
            </button>
            <h3 class="modal-title">I have a nice title</h3>
        </div>
        <div class="modal-body">
            <p>But not much to say...</p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" type="button">Cancel</button>
            <button class="btn btn-primary" type="button">Ok</button>
        </div>
</clr-modal>
